<div class="filter-container">
  <div class="filter-header">
    <i class="fas fa-filter"></i>
    <h5>Filtres et Tri</h5>
  </div>

  <div class="filter-body">
    <div class="row g-3">
      <!-- Recherche -->
      <div class="col-md-6 col-lg-3">
        <div class="filter-group">
          <label for="search" class="filter-label">
            <i class="fas fa-search"></i> Recherche
          </label>
          <div class="input-wrapper">
            <input id="search" type="text" class="filter-input"
                   [(ngModel)]="query.search" placeholder="Titre ou description">
          </div>
        </div>
      </div>

      <!-- Priorité -->
      <div class="col-md-6 col-lg-2">
        <div class="filter-group">
          <label for="priority" class="filter-label">
            <i class="fas fa-flag"></i> Priorité
          </label>
          <div class="select-wrapper">
            <select id="priority" class="filter-select" [(ngModel)]="query.priority">
              <option value="">Toutes</option>
              <option value="Haute">Haute</option>
              <option value="Moyenne">Moyenne</option>
              <option value="Basse">Basse</option>
            </select>
            <i class="fas fa-chevron-down"></i>
          </div>
        </div>
      </div>

      <!-- Catégorie -->
      <div class="col-md-6 col-lg-2">
        <div class="filter-group">
          <label for="category" class="filter-label">
            <i class="fas fa-tag"></i> Catégorie
          </label>
          <div class="input-wrapper">
            <input id="category" type="text" class="filter-input"
                   [(ngModel)]="query.category" placeholder="Catégorie">
          </div>
        </div>
      </div>

      <!-- Statut -->
      <div class="col-md-6 col-lg-2">
        <div class="filter-group">
          <label for="isComplete" class="filter-label">
            <i class="fas fa-check-circle"></i> Statut
          </label>
          <div class="select-wrapper">
            <select id="isComplete" class="filter-select" [(ngModel)]="query.isComplete">
              <option [ngValue]="undefined">Tous</option>
              <option [ngValue]="true">Complet</option>
              <option [ngValue]="false">Incomplet</option>
            </select>
            <i class="fas fa-chevron-down"></i>
          </div>
        </div>
      </div>

      <!-- Trier par -->
      <div class="col-md-6 col-lg-2">
        <div class="filter-group">
          <label for="sortBy" class="filter-label">
            <i class="fas fa-sort"></i> Trier par
          </label>
          <div class="select-wrapper">
            <select id="sortBy" class="filter-select" [(ngModel)]="query.sortBy">
              <option value="CreatedAt">Date de création</option>
              <option value="DueDate">Date d'échéance</option>
              <option value="Priority">Priorité</option>
              <option value="Title">Titre</option>
            </select>
            <i class="fas fa-chevron-down"></i>
          </div>
        </div>
      </div>

      <!-- Ordre -->
      <div class="col-md-6 col-lg-1">
        <div class="filter-group">
          <label class="filter-label">
            <i class="fas fa-sort-amount-down"></i> Ordre
          </label>
          <div class="toggle-wrapper">
            <label class="toggle-switch">
              <input type="checkbox" [(ngModel)]="query.descending">
              <span class="toggle-slider"></span>
            </label>
            <span class="toggle-label">{{ query.descending ? 'Desc' : 'Asc' }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Boutons -->
    <div class="filter-actions">
      <button class="btn-filter btn-reset" (click)="resetFilter()">
        <i class="fas fa-redo"></i> Réinitialiser
      </button>
      <button class="btn-filter btn-apply" (click)="applyFilter()">
        <i class="fas fa-check"></i> Appliquer
      </button>
    </div>
  </div>
</div>
